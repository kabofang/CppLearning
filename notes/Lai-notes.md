## C++程序设计语言读书笔记

### 第一章	致读者

~~~ markdown
欲速则不达。
							————屋大维，恺撒 ● 奥古斯都
~~~

#### 1.1 本书结构

##### 1.1.1 本书包含四个部分

- 第一部分：第 1 章，介绍C++的背景知识；第 2~5 章，对C++语言及其标准库进行简要介绍。
- 第二部分：第 6~15 章， 介绍C++的内置类型和基本特性以及如何用它们构造程序。
- 第三部分：第 16~29 章， 介绍C++的抽象机制及如何用这些机制编写面向对象和泛型程序。
- 第四部分：第 30~44 章， 概述标准库并讨论一些兼容问题。

##### 1.1.2 C++程序设计语言及其标准库的主要概念和特性

- 第2章：基础知识，介绍C++的内存模型、计算模型和错误处理模型；
- 第3章：抽象机制，介绍用来支持数据抽象、面向对象编程以及泛型编程的语言特性；
- 第4章：容器与算法，介绍标准库提供的字符串、简单I/O、容器和算法等特性；
- 第5章：并发与实用功能，概述与资源管理、并发、数学计算、正则表达式以及其他一些方面相关的标准库工具。

##### 1.1.3 C++类型、对象、作用域和存储的基本概念，计算的基础以及支撑模板化的特性

- 第6章：类型与声明；基础类型、命名、作用域、初始化、简单类型推断、对象生命周期和类型别名
- 第7章：指针、数组与引用；
- 第8章：结构、联合与枚举；
- 第9章：声明语句、选择语句（if和switch）、迭代语句（for、while和do）、goto语句和注释语句
- 第10章：表达式；运行符、常量表达式和隐式类型转换
- 第11章：逻辑运算符、条件表达式、递增和递减、内存空间（new和delete）、｛｝列表、lambda表达式和显式类型转换（static_cast和const_cast）
- 第12章：函数；函数声明和定义、inline函数、constexpr函数、实参传递、重载函数、前置和后置条件、函数的指针和宏
- 第13章：异常处理；错误处理风格、异常保证、资源管理、强制不变量、throw和catch、一个vector的实现
- 第14章：命名空间；namespace、模块化和接口、使用命名空间组织代码
- 第15章：源文件与程序；分离编译、链接、使用头文件及程序启动和结束

##### 1.1.4 C++抽象机制

- 第16章：类；用户自定义类型，也就是类的概念，是所有C++抽象机制的基础
- 第17章：构造、析构、拷贝和移动；
- 第18章：运算符重载；
- 第19章：特殊运算符；用于下标的[],用于函数对象的()和用于智能指针的->
- 第20章：派生类；介绍构建类层次的基本语言特性及其基本使用方法
- 第21章：类层次；
- 第22章：运行时类型信息；
- 第23章：模板；
- 第24章：泛型程序设计
- 第25章： 特例化；介绍特例化技术，如何利用给定的一组模板参数，从模板生成类和函数
- 第26章：实例化；介绍名字绑定规则
- 第27章：模板和类层次；介绍模板层次和类层次如何结合使用
- 第28章：元编程；介绍如何用模板生成程序。模板提供了一种生成代码的图灵完备机制
- 第29章：一个矩阵设计

#### 1.2 C++程序设计风格

##### 1.2.1 C++四种程序设计风格：

- 过程式程序设计：专注于处理和设计恰当的数据结构；该风格是C语言的设计目标
- 数据抽象： 专注于接口的设计以及一般实现细节的隐藏和特殊的表示方式
- 面向对象程序设计： 专注于类层次的设计、实现和使用；类层次提供了运行时多态和封装机制
- 泛型程序设计： 专注于通用算法的设计、实现和使用



### 第二章	C++基础知识

~~~ markdown
首要任务，干掉所有语言专家
							————《亨利六世》（第二部分）
~~~

#### 2.1 基本概念

##### 2.1.1 C++是一种编译型语言；g++编译器拿到C++源文件到生成可执行程序，中间一共经历四个步骤：

~~~sh
# 第一步：g++ -E hello.cpp -o hello.i  （通过预处理cpp得到hello.i文件）
# 第二步：g++ -S hello.i -o hello.s    （通过编译器g++得到hello.s汇编文件）
# 第三步：g++ -c hello.s -o hello.o    （通过汇编器as得到hello.o二进制文件）
# 第四步：g++ hello.o print.o -o hello （通过链接器ld得到hello可执行文件）
~~~

##### 2.1.2 C++是一种静态类型语言；编译器在处理任何实体（对象、值、表达式）时，都必须清楚它的类型。对象的类型决定了能在该对象上执行哪些操作。

##### 2.1.3 类型、变量；

- 每个名字和每个表达式都有一个类型，类型决定所能执行的操作
- 声明（declaration）是一条语句，负责为程序引入一个新的名字，并指定该命名实体的类型：

~~~markdown
类型(type)：定义一组可能的值以及一组（对象上的）操作
对象（object）：是存放某类型值的内存空间
值（value）：是一组二进制位，具体的含义由其类型决定
变量（variable）：是一个命名的对象
~~~

##### 2.1.4 常量；

~~~c++
// const: "承诺不改变这个值"，主要用于说明接口，这样把变量传入函数时就不必担心变量会在函数内被改变了。编译器负责确认并执行const的承诺。
// constexpr: "在编译是求值"，主要用于说明常量，作用是允许将数据置于只读内存中以及提升性能。

int n = 10;			 					// n为变量
const int c_n = 10;  					// c_n为常量
constexpr double m1 = 1.4 * square(n) 	// 错误：n不是常量表达式
constexpr double m2 = 1.4 * square(c_n) // 正确
// 总结：在编译期就可以求值的，可以使用constexpr, 在运行期才求值的用const
~~~

